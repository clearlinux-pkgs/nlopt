#
# This file is auto-generated. DO NOT EDIT
# Generated by: autospec.py
#
Name     : nlopt
Version  : 2.6.0
Release  : 15
URL      : https://github.com/stevengj/nlopt/archive/v2.6.0/nlopt-2.6.0.tar.gz
Source0  : https://github.com/stevengj/nlopt/archive/v2.6.0/nlopt-2.6.0.tar.gz
Summary  : nonlinear optimization library
Group    : Development/Tools
License  : LGPL-2.1 MIT zlib-acknowledgement
Requires: nlopt-lib = %{version}-%{release}
Requires: nlopt-license = %{version}-%{release}
BuildRequires : buildreq-cmake
BuildRequires : python3
BuildRequires : python3-dev

%description
An implementation of the algorithm AGS to solve constrained nonlinear
programming problems with Lipschitzian functions. AGS was introduced
by prof. R.G. Strongin (see R. G. Strongin, D. L. Markin,
,Minimization of multiextremal functions under nonconvex constraints,
Cybernetics 22(4), 486-493. Translated from Russian. Consultant
Bureau. New York, 1986.). The method exploits Peano-type curve to
reduce dimension of the source bounded multidimensional constrained
NLP problem and then solves a univariate one.

%package dev
Summary: dev components for the nlopt package.
Group: Development
Requires: nlopt-lib = %{version}-%{release}
Provides: nlopt-devel = %{version}-%{release}
Requires: nlopt = %{version}-%{release}

%description dev
dev components for the nlopt package.


%package lib
Summary: lib components for the nlopt package.
Group: Libraries
Requires: nlopt-license = %{version}-%{release}

%description lib
lib components for the nlopt package.


%package license
Summary: license components for the nlopt package.
Group: Default

%description license
license components for the nlopt package.


%prep
%setup -q -n nlopt-2.6.0

%build
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
export LANG=C
export SOURCE_DATE_EPOCH=1555122557
mkdir -p clr-build
pushd clr-build
%cmake ..
make  %{?_smp_mflags}
popd

%check
export LANG=C
export http_proxy=http://127.0.0.1:9/
export https_proxy=http://127.0.0.1:9/
export no_proxy=localhost,127.0.0.1,0.0.0.0
cd clr-build; make test

%install
export SOURCE_DATE_EPOCH=1555122557
rm -rf %{buildroot}
mkdir -p %{buildroot}/usr/share/package-licenses/nlopt
cp COPYING %{buildroot}/usr/share/package-licenses/nlopt/COPYING
cp COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/COPYRIGHT
cp src/algs/ags/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_ags_COPYRIGHT
cp src/algs/bobyqa/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_bobyqa_COPYRIGHT
cp src/algs/cobyla/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_cobyla_COPYRIGHT
cp src/algs/direct/COPYING %{buildroot}/usr/share/package-licenses/nlopt/src_algs_direct_COPYING
cp src/algs/esch/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_esch_COPYRIGHT
cp src/algs/luksan/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_luksan_COPYRIGHT
cp src/algs/newuoa/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_newuoa_COPYRIGHT
cp src/algs/slsqp/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_slsqp_COPYRIGHT
cp src/algs/stogo/COPYRIGHT %{buildroot}/usr/share/package-licenses/nlopt/src_algs_stogo_COPYRIGHT
pushd clr-build
%make_install
popd

%files
%defattr(-,root,root,-)

%files dev
%defattr(-,root,root,-)
/usr/include/*.h
/usr/include/*.hpp
/usr/include/nlopt.f
/usr/lib64/cmake/nlopt/NLoptConfig.cmake
/usr/lib64/cmake/nlopt/NLoptConfigVersion.cmake
/usr/lib64/cmake/nlopt/NLoptLibraryDepends-relwithdebinfo.cmake
/usr/lib64/cmake/nlopt/NLoptLibraryDepends.cmake
/usr/lib64/libnlopt.so
/usr/lib64/pkgconfig/nlopt.pc
/usr/share/man/man3/nlopt.3
/usr/share/man/man3/nlopt_minimize.3
/usr/share/man/man3/nlopt_minimize_constrained.3

%files lib
%defattr(-,root,root,-)
/usr/lib64/libnlopt.so.0
/usr/lib64/libnlopt.so.0.9.0

%files license
%defattr(0644,root,root,0755)
/usr/share/package-licenses/nlopt/COPYING
/usr/share/package-licenses/nlopt/COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_ags_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_bobyqa_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_cobyla_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_direct_COPYING
/usr/share/package-licenses/nlopt/src_algs_esch_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_luksan_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_newuoa_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_slsqp_COPYRIGHT
/usr/share/package-licenses/nlopt/src_algs_stogo_COPYRIGHT
